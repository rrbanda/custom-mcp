# yaml-language-server: $schema=https://raw.githubusercontent.com/genmcp/gen-mcp/refs/heads/main/specs/mcpfile-schema.json
# TEST VERSION - Points to mock server on localhost:9999

kind: MCPToolDefinitions
schemaVersion: "0.2.0"
name: marketplace-order-api
version: "1.0.0"

tools:
  - name: create_order
    title: "Create Marketplace Order"
    description: |
      Creates a new order in the Marketplace API.
      Used for SecureSSO Policy Modify and other product orders.
    inputSchema:
      type: object
      properties:
        orders:
          type: array
          description: "Array of order objects"
          items:
            type: object
            additionalProperties: true
            properties:
              orderByGeid:
                type: string
                description: "GEID of the person placing the order"
              orderForGeid:
                type: string
                description: "GEID of the person the order is for"
              productId:
                type: string
                description: "Product ID (e.g., 57097_20447_GLOBAL for SecureSSO Policy Modify)"
              productName:
                type: string
                description: "Product name (e.g., SecureSSO - Policy Modify)"
              questionnaire:
                type: array
                description: "Array of questionnaire field entries"
                items:
                  type: object
                  additionalProperties: true
                  properties:
                    dataKey:
                      type: string
                      description: "Unique data key identifier"
                    key:
                      type: string
                      description: "Field name/key"
                    IsHidden:
                      type: string
                      description: "Whether field is hidden (true/false)"
                    value:
                      type: array
                      items:
                        type: string
                      description: "Array of values"
                    searchInput:
                      type: string
                      description: "Optional search input"
                    autoPopulated:
                      type: boolean
                      description: "Whether auto-populated"
              orderForUsers:
                type: array
                description: "User location information"
                items:
                  type: object
                  additionalProperties: true
                  properties:
                    locationIdOrderFor:
                      type: string
                      description: "Location ID"
                    geoIdOrderFor:
                      type: string
                      description: "Geographic region (USA, EMEA, APAC)"
                    orderForGeid:
                      type: string
                      description: "GEID of the user"
      required:
        - orders
    invocation:
      http:
        method: POST
        url: http://localhost:9999/api/orderextws/public/Orders/createOrder
        bodyRoot: orders
        headers:
          Content-Type: application/json
          Username: "test-user"
          Token: "test-token"
          SM_USER_DEV: "test-sm-user"
          Authorization: "Bearer test-auth"
